{% load static %}
<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Fly Track — Esqueci minha senha</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="icon" type="image/png" href="{% static 'core/img/favicon.png' %}">
  <link rel="shortcut icon" href="{% static 'core/img/favicon.png' %}">
  <style>
    :root{
      --bg:#e8f2fb; --bg2:#cfe6fb; --card:#ffffff; --ink:#0b1e45; --muted:#3a5674;
      --line:#e5eef6; --cta:#ff5a00; --cta-ink:#ffffff; --accent:#2f80ed;
      --shadow:0 10px 30px rgba(17,38,71,.12);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; color:var(--ink);
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Helvetica Neue", sans-serif;
      background:
        radial-gradient(1200px 600px at 20% -10%, var(--bg2), transparent 60%),
        radial-gradient(1200px 600px at 120% 120%, #dbefff, transparent 45%),
        linear-gradient(180deg, var(--bg), #dfeefb);
      display:grid; place-items:center; padding:24px;
    }
    .frame{
      width:min(1100px, 100%);
      background:var(--card); border-radius:28px; box-shadow:var(--shadow);
      overflow:hidden; display:grid; grid-template-columns:1.1fr 1fr;
    }
    /* Esquerda (marca + ilustração) */
    .left{
      position:relative; padding:28px 28px 0;
      background:linear-gradient(180deg, #f6fbff, #eef6ff 55%, #f8fbff);
      min-height:360px;
    }
    .brand{ display:flex; align-items:center; gap:10px; color:#0d2b66;
      font-weight:800; font-size:22px; letter-spacing:.2px; }
    .brand-icon{
      width:28px; height:28px; display:inline-grid; place-items:center;
      border-radius:999px; background:#2f80ed; color:#fff; font-weight:900; font-size:14px;
    }
    .art{ position:absolute; inset:auto 0 0 0; height:64%; display:grid; place-items:center; pointer-events:none; }
    .art img{ width:92%; height:auto; filter:drop-shadow(0 10px 18px rgba(7,25,64,.10)); }
    .footer-links{ position:absolute; left:28px; bottom:18px; display:flex; gap:18px; color:#6c85a5; font-size:14px; }
    .footer-links a{ color:#6c85a5; text-decoration:none; }
    .footer-links a:hover{ text-decoration:underline; }

    /* Direita (card com formulário) */
    .right{ display:grid; place-items:center; padding:28px; }
    .card{
      width:min(440px, 100%); background:var(--card); border-radius:20px;
      box-shadow:var(--shadow); padding:28px;
    }
    h1{ margin:6px 0 4px; font-size:32px; line-height:1.1; }
    .sub{ color:var(--muted); margin:0 0 18px; }

    label{ display:block; font-weight:600; margin:14px 0 8px; }
    .field{ display:flex; align-items:center; gap:10px;
      border:1px solid var(--line); border-radius:12px; padding:10px 12px; background:#fff; }
    .field input{ border:0; outline:0; font:inherit; width:100%; color:var(--ink); }
    .field input::placeholder{ color:#8aa0b9; }

    .errorlist{ margin:8px 0 0; padding:0; list-style:none; color:#b00020; font-size:14px; }
    .nonfield{ margin:0 0 8px; color:#b00020; }

    .btn{ width:100%; padding:14px 16px; border-radius:12px; border:0; cursor:pointer; font-weight:800; }
    .btn-primary{ background:var(--cta); color:var(--cta-ink); }
    .btn-primary:hover{ filter:brightness(.95); }

    .links{ margin-top:14px; display:flex; justify-content:space-between; gap:12px; flex-wrap:wrap; }
    .muted-link{ color:var(--accent); text-decoration:none; font-weight:600; }
    .muted-link:hover{ text-decoration:underline; }

    @media (max-width:920px){
      .frame{ grid-template-columns:1fr; }
      .left{ min-height:260px; }
      .card{ box-shadow:none; padding:22px; }
      body{ padding:16px; }
    }
    /* acessibilidade: texto apenas para leitores */
    .sr{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }
  </style>
</head>
<body>
  <main class="frame" role="main" aria-label="Redefinição de senha Fly Track">
    <!-- Coluna esquerda -->
    <section class="left" aria-hidden="true">
      <div class="brand"><span class="brand-icon">✈</span> Fly Track</div>
      <div class="art">
        <img src="{% static 'core/img/aviao2.png' %}" alt="" class="plane" />
      </div>
      <div class="footer-links">
        <a href="#" rel="nofollow">Política de Privacidade</a>
        <a href="#" rel="nofollow">Termos</a>
      </div>
    </section>

    <!-- Coluna direita -->
    <section class="right">
      <form method="post" class="card" novalidate>
        {% csrf_token %}

        <h1>Esqueci minha senha</h1>
        <p class="sub">Digite o e-mail cadastrado e enviaremos um link para redefinir sua senha.</p>

        {% if form.non_field_errors %}
          <div class="nonfield">{{ form.non_field_errors }}</div>
        {% endif %}

        <label for="{{ form.email.id_for_label }}">E-mail</label>
        <div class="field">
          {{ form.email }}
        </div>
        {% if form.email.errors %}
          <ul class="errorlist">
            {% for e in form.email.errors %}<li>{{ e }}</li>{% endfor %}
          </ul>
        {% endif %}

        <div style="margin-top:16px">
          <button class="btn btn-primary" type="submit">Enviar link</button>
        </div>

        <div class="links">
          <span></span>
          <a class="muted-link" href="{% url 'core:login' %}">Voltar ao login</a>
        </div>
      </form>
    </section>
  </main>

  <!-- Ajuste: garante placeholder se o widget não tiver -->
  <script>
    (function(){
      const email = document.querySelector('input[type="email"]');
      if(email && !email.placeholder){ email.placeholder = 'voce@email.com'; }
      // adiciona classes utilitárias se quiser estilizar via CSS externo
      if(email){ email.classList.add('input-email'); }
    })();
  </script>
</body>
</html>
